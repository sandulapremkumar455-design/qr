{% extends "base.html" %}
{% block title %}All Passwords â€” Smart Attendance System{% endblock %}
{% block page_title %}All Passwords{% endblock %}

{% block content %}
<div style="background:rgba(255,209,102,0.1);border:1px solid rgba(255,209,102,0.3);border-radius:var(--r-md);padding:12px 16px;margin-bottom:20px;font-size:13px;color:var(--amber)">
  <i class="fas fa-lock"></i> This page is visible to admin only. Passwords are shown as set during registration.
</div>

<!-- Lecturers -->
<div class="card" style="margin-bottom:20px">
  <div class="card-header"><div class="card-title">Lecturers ({{ lecturers|length }})</div></div>
  <div class="card-body" style="padding:0">
    <table style="width:100%;border-collapse:collapse">
      <thead><tr style="border-bottom:1px solid var(--border)">
        {% for h in ['NAME','PIN / ID','PASSWORD'] %}
        <th style="padding:10px 16px;font-family:'Space Mono',monospace;font-size:10px;color:var(--text3);letter-spacing:1.5px;text-align:left;font-weight:400">{{ h }}</th>
        {% endfor %}
      </tr></thead>
      <tbody>
        {% for lec in lecturers %}
        <tr style="border-bottom:1px solid var(--border)" class="table-row">
          <td style="padding:12px 16px;font-family:'Syne',sans-serif;font-weight:600;font-size:13px">{{ lec.name }}</td>
          <td style="padding:12px 16px;font-family:'Space Mono',monospace;font-size:12px;color:var(--text2)">{{ lec.pin }}</td>
          <td style="padding:12px 16px">
            <span style="font-family:'Space Mono',monospace;font-size:12px;background:var(--bg3);padding:4px 10px;border-radius:var(--r-sm);border:1px solid var(--border)">
              {{ lec.plain_password or '(set before this feature)' }}
            </span>
          </td>
        </tr>
        {% else %}
        <tr><td colspan="3" style="padding:20px 16px;color:var(--text3);font-size:13px">No lecturers yet</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Students -->
<div class="card">
  <div class="card-header"><div class="card-title">Students ({{ students|length }})</div></div>
  <div class="card-body" style="padding:0">
    <table style="width:100%;border-collapse:collapse">
      <thead><tr style="border-bottom:1px solid var(--border)">
        {% for h in ['NAME','PIN','YEAR','BRANCH','PASSWORD'] %}
        <th style="padding:10px 16px;font-family:'Space Mono',monospace;font-size:10px;color:var(--text3);letter-spacing:1.5px;text-align:left;font-weight:400">{{ h }}</th>
        {% endfor %}
      </tr></thead>
      <tbody>
        {% for s in students %}
        <tr style="border-bottom:1px solid var(--border)" class="table-row">
          <td style="padding:11px 16px;font-family:'Syne',sans-serif;font-weight:600;font-size:13px">{{ s.name }}</td>
          <td style="padding:11px 16px;font-family:'Space Mono',monospace;font-size:11px;color:var(--text2)">{{ s.pin }}</td>
          <td style="padding:11px 16px;font-size:12px;color:var(--text2)">{{ s.year }}</td>
          <td style="padding:11px 16px;font-size:12px;color:var(--text2)">{{ s.branch }}</td>
          <td style="padding:11px 16px">
            <span style="font-family:'Space Mono',monospace;font-size:12px;background:var(--bg3);padding:4px 10px;border-radius:var(--r-sm);border:1px solid var(--border)">
              {{ s.plain_password or '(set before this feature)' }}
            </span>
          </td>
        </tr>
        {% else %}
        <tr><td colspan="5" style="padding:20px 16px;color:var(--text3);font-size:13px">No students yet</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
